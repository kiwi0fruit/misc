# Kiwi0Fruit's translit

## Yet another Russian to Latin translit

Придумал в качестве развлечения ещё один транслит. Развлечением было удовлетворить ограничениям:

* Транслит - полностью обратимый (является кодировкой без потерь и позволяет точно восстановить произвольный русский текст из латиницы),
* Транслит содержит только буквы и нижнее подчёркивание (в частности, не использует апостроф): отображение из русских букв `[А-Яа-я_]` в английские `[A-Za-z_]`,
* Не содержит далёких фонетических замен типа щ → w. Желательно, чтобы "звучало" похоже на английский, латинский или немецкий.


## Итоговый результат

|  >  |         |  >  |     |  >  |     |
|:---:|:-------:|:---:|:---:|:---:|:---:|
|  е  | e/ye/je |  а  |  a  |  ф  |  f  |
|  ё  |  yo/jo  |  б  |  b  |  _  |  _  |
|  ж  |   zh    |  в  |  v  |  –  |  q  |
|  и  |  i/yi   |  г  |  g  |  –  |  w  |
|  й  |  ј/jh   |  д  |  d  |  –  |  x  |
|  х  | h/kh/hh |  з  |  z  |     |     |
|  ц  |    c    |  к  |  k  |     |     |
|  ч  |   ch    |  л  |  l  |     |     |
|  ш  |   sh    |  м  |  m  |     |     |
|  щ  |   shh   |  н  |  n  |     |     |
|  ъ  | j/\_h\_ |  о  |  o  |     |     |
|  ы  |  y/yh   |  п  |  p  |     |     |
|  ь  | j/\_j\_ |  р  |  r  |     |     |
|  э  |   eh    |  с  |  s  |     |     |
|  ю  |  yu/ju  |  т  |  t  |     |     |
|  я  |  ya/ja  |  у  |  u  |     |     |


Многие буквы совпадают с [ГОСТ 16876-71 табл. 2](https://ru.wikipedia.org/wiki/%D0%A2%D1%80%D0%B0%D0%BD%D1%81%D0%BB%D0%B8%D1%82%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D1%8F_%D1%80%D1%83%D1%81%D1%81%D0%BA%D0%BE%D0%B3%D0%BE_%D0%B0%D0%BB%D1%84%D0%B0%D0%B2%D0%B8%D1%82%D0%B0_%D0%BB%D0%B0%D1%82%D0%B8%D0%BD%D0%B8%D1%86%D0%B5%D0%B9#%D0%A1%D1%80%D0%B0%D0%B2%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D1%82%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC_%D1%82%D1%80%D0%B0%D0%BD%D1%81%D0%BB%D0%B8%D1%82%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8) или [ГОСТ 7.79-2000 сист. Б](https://ru.wikipedia.org/wiki/%D0%A2%D1%80%D0%B0%D0%BD%D1%81%D0%BB%D0%B8%D1%82%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D1%8F_%D1%80%D1%83%D1%81%D1%81%D0%BA%D0%BE%D0%B3%D0%BE_%D0%B0%D0%BB%D1%84%D0%B0%D0%B2%D0%B8%D1%82%D0%B0_%D0%BB%D0%B0%D1%82%D0%B8%D0%BD%D0%B8%D1%86%D0%B5%D0%B9#%D0%A1%D1%80%D0%B0%D0%B2%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D1%82%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC_%D1%82%D1%80%D0%B0%D0%BD%D1%81%D0%BB%D0%B8%D1%82%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8).

Контекст и сочетания букв:

| Контекст, Regex                                               |     Замена     |                                  Примеры                                  |
|:------------------------------------------------------------- |:--------------:|:-------------------------------------------------------------------------:|
| **Й**                                                         |    **ј/jh**    |                                                                           |
| 1. `([_ъь#])й([_ъь#])`                                        |   `(.)jh(.)`   |                               йъог/jh_h_og                                |
| 2. `([^аяеэёоиыую_ъь#])й`                                     |    `(.)jh`     |             подйес/podjhes, подйод/podjhod, мурьйин/mur_j_jin             |
| •  `й`                                                        |      `j`       | йод/jod, белый/belyj, байес/bajes, йиппи/jippi, байыс/bajys, байяс/bajyas |
|                                                               |                |                                                                           |
| **Х**                                                         |  **h/kh/hh**   |                                                                           |
| 1. `([_ъь#])х([_ъь#])`                                        |   `(.)kh(.)`   |                          хья/khjya, хьан/kh_j_an                          |
| 2. `([зсхцчжшщьей])х`                                         |    `(.)kh`     |             сход/skhod, мех/mekh, мэр/mehr, мурьхин/murjkhin              |
| 3. `(к)х`                                                     |    `(k)hh`     |                                 кхе/khhe                                  |
| •  `х`                                                        |      `h`       |                    хохолок/hoholok, mur_h_hin/муръхин                     |
| •  `(э)х`                                                     |    `(eh)h`     |                            эхо/ehho, эон/ehon                             |
|                                                               |                |                                                                           |
| **Ъ**                                                         |  **j/\_h\_**   |                                                                           |
| 1. `([^аяеэёоиыую_йъь#])ъ[еёюя]`                              |  `(.)j[eoua]`  |                        объект/objekt, изъян/izjan                         |
| •  `ъ`                                                        |     `_h_`      |            Муъминат/Mu_h_minat, Чанъань/Chan_h_anj, онъ/on_h_             |
|                                                               |                |                                                                           |
| **Ы**                                                         |    **y/yh**    |                                                                           |
| 1. `ы([эоауи])`                                               |    `yh(.)`     |                              ыа/yha, ыи/yhi                               |
| 2. `ы[еёяю]`                                                  |   `yj[eoau]`   |                       белые/belyje, бедныя/bednyja                        |
| •  `ы`                                                        |      `y`       |                         крыска/kryska, ыпся/ypsya                         |
|                                                               |                |                                                                           |
| **Ь**                                                         |  **j/\_j\_**   |                                                                           |
| 1. <code>([^аяеэёоиыую_йъь#])ь([^еёиюяйаэоыуъь]\|[_#])</code> |   `(.)j(.)`    |               прячься/pryachjsya, мыться/mytjsya, конь/konj               |
| 2. `([^аяеэёоиыую_йъь#])ь[еёиюя]`                             | `(.)jy[eoiua]` |                  пьеса/pjyesa, пьян/pjyan, ладьи/ladjyi                   |
| •  `ь`                                                        |     `_j_`      |                             чаньол/chan_j_ol                              |
|                                                               |                |                                                                           |
| **Е**                                                         |  **e/ye/je**   |                                                                           |
| 1. `ye` замену смотри в **Ь** (2)                             |                |                                                                           |
| 2. `je` замены смотри в **Ъ** (1) и в **Ы** (2)               |                |                                                                           |
| •  `е`                                                        |      `e`       |                            пена/pena, ель/elj                             |
| **Ё**                                                         |   **yo/jo**    |                                                                           |
| 1. `jo` замены смотри в **Ъ** (1) и в **Ы** (2)               |                |                                                                           |
| •  `ё`                                                        |      `yo`      |                           ёмко/yomko, мёд/myod                            |
| **И**                                                         |    **i/yi**    |                                                                           |
| 1. `yi` замену смотри в **Ь** (2)                             |                |                                                                           |
| •  `и`                                                        |      `i`       |                                  миг/mig                                  |
| **Ю**                                                         |   **yu/ju**    |                                                                           |
| 1. `ju` замены смотри в **Ъ** (1) и в **Ы** (2)               |                |                                                                           |
| •  `ю`                                                        |      `yu`      |                                 Yulya/Юля                                 |
| **Я**                                                         |   **ya/ja**    |                                                                           |
| 1. `ja` замены смотри в **Ъ** (1) и в **Ы** (2)               |                |                                                                           |
| •  `я`                                                        |      `ya`      |                                 Izya/Изя                                  |

Данные регулярные выражения даны лишь в качестве задания формальных правил кодирования. Для удобства в них предполагается, что все символы из `[А-Яа-я_]` и дополнительно к этому строки начинаются и заканчиваются на `#`.

Когда составлял правила хотелось:

* чтобы h означала х в контекстах, где её нельзя перепутать с составными буквами, иначе – kh,
* чтобы j после согласных означала ь, а j первая или после гласных - й,
* чтобы ъe/ъя в разрешённых русским языком местах кодировались je/ja,
* чтобы ьe/бя в типичных местах кодировались jye/jya,
* для остальных случаев нужно ввести контекстно-независимые й/jh, ы/yh, ъ/\_h\_, ь/\_j\_.

Ещё примеры:

|     |         |                                     |
|:---:|:-------:|:----------------------------------- |
|  ж  |   zh    | yozh/ёж                             |
|  ц  |    c    | civilizacija/цивилизация            |
|  ч  |   ch    | chernysh/черныш, schyotnaya/счётная |
|  ш  |   sh    | shlem/шлем                          |
|  щ  |   shh   | shhyotka/щётка                      |
|  э  |   eh    | ehkran/экран                        |


### TO DO

Нужно написать кодировщик и декодировщик на питоне, а потом проверить на каком-нибудь словаре, а так же на случайно-сгенерированных словах.

Я не проверял алгоритм декодирования даже мысленно. Но интуитивно чувствую, что он хорошо определён и реализуем. Собственно, алгоритм кодировки строился такой, чтобы не было такого, чтобы разные русские слова (любые) отображались в одну и ту же транслитерацию.
